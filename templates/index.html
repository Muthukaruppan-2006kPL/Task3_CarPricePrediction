<!DOCTYPE html>
<html>
<head>
    <title>Car Price Prediction</title>
</head>
<body>

<h1>Car Price Prediction</h1>

<form id="predictionForm">
    
    Name: <input type="text" id="name" /><br><br>

    Year: <input type="number" id="year" /><br><br>

    KM Driven: <input type="number" id="km_driven" /><br><br>

    Fuel: 
    <select id="fuel">
        <option value="Petrol">Petrol</option>
        <option value="Diesel">Diesel</option>
        <option value="CNG">CNG</option>
        <option value="LPG">LPG</option>
        <option value="Electric">Electric</option>
    </select><br><br>

    Seller Type:
    <select id="seller_type">
        <option value="Individual">Individual</option>
        <option value="Dealer">Dealer</option>
        <option value="Trustmark Dealer">Trustmark Dealer</option>
    </select><br><br>

    Transmission:
    <select id="transmission">
        <option value="Manual">Manual</option>
        <option value="Automatic">Automatic</option>
    </select><br><br>

    Owner:
    <select id="owner">
        <option value="First Owner">First Owner</option>
        <option value="Second Owner">Second Owner</option>
        <option value="Third Owner">Third Owner</option>
        <option value="Fourth & Above Owner">Fourth & Above Owner</option>
    </select><br><br>

    <button type="submit">Predict Price</button>
</form>

<h2 id="result"></h2>

<script>
    document.getElementById("predictionForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const data = {
            name: document.getElementById("name").value,
            year: Number(document.getElementById("year").value),
            km_driven: Number(document.getElementById("km_driven").value),
            fuel: document.getElementById("fuel").value,
            seller_type: document.getElementById("seller_type").value,
            transmission: document.getElementById("transmission").value,
            owner: document.getElementById("owner").value
        };

        const response = await fetch("http://localhost:5000/predict", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });

        const result = await response.json();
        document.getElementById("result").innerText = "Predicted Price: â‚¹ " + result.predicted_price;
    });
</script>

</body>
</html>